{"version":3,"sources":["images/Logo.svg","components/Header.js","components/Register.js","components/Login.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/ProtectedRoute.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmPopup.js","components/Footer.js","components/ImagePopup.js","images/good.svg","images/bad.svg","components/InfoTooltip.js","utils/api.js","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","onSignOut","userData","console","log","className","src","logo","alt","path","to","exact","onClick","Register","handleRegister","useState","email","password","data","setData","handleChange","e","target","name","value","onSubmit","preventDefault","id","type","onChange","placeholder","Login","handleLogin","CurrentUserContext","React","createContext","Card","props","user","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","link","onCardClick","aria-label","onDeleteButtonClick","onCardLike","length","Main","avatar","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","ProtectedRoute","Component","component","loggedIn","PopupWithForm","isOpen","onClose","title","button","children","EditProfilePopup","useEffect","setName","setDescription","description","onUpdateUser","minLength","maxLength","required","EditAvatarPopup","inputRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setLink","ConfirmPopup","onCardDelete","Footer","ImagePopup","InfoToolTip","regOk","handleEscClose","evt","key","document","addEventListener","removeEventListener","handleOverlayClick","classList","contains","good","bad","api","config","this","_url","url","_headers","headers","fetch","method","then","_checkResponse","res","ok","json","Promise","reject","status","all","getAllCards","getUserInfo","body","JSON","stringify","likeCard","deleteLike","cardId","authorization","BASE_URL","handleResponse","response","App","setLoggedIn","setUserData","history","useHistory","closeAllPopups","isInfoTooLTipOpen","isEditAvatarPopupOpen","isEditProfilePopupOpen","isAddPlacePopupOpen","selectedCard","tokenCheck","token","jwt","localStorage","getItem","push","catch","err","setCards","currentUser","setCurrentUser","setSelectedCard","setIsInfoTooLTipOpen","isRegOk","setIsRegOk","setIsEditAvatarPopupOpen","setIsEditProfilePopupOpen","setIsAddPlacePopupOpen","isConfirmPopupOpen","setIsConfirmPopupOpen","handleCardDelete","deleteCard","state","filter","c","Provider","removeItem","auth","setItem","changeLikeCardStatus","newCard","changeUserInfo","addNewCard","changeUserAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.11157f30.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/Logo.9acae848.svg\";","import React from \"react\";\r\nimport logo from \"../images/Logo.svg\";\r\nimport { Link, Route } from \"react-router-dom\";\r\n\r\nfunction Header({ onSignOut, userData }) {\r\n  console.log(userData);\r\n  return (\r\n    <header className=\"header\">\r\n      <img src={logo} alt=\"логотип\" className=\"header__logo\" />\r\n      <Route path=\"/sign-up\">\r\n        <Link className=\"header__link\" to=\"sign-in\">\r\n          Войти\r\n        </Link>\r\n      </Route>\r\n      <Route path=\"/sign-in\">\r\n        <Link className=\"header__link\" to=\"sign-up\">\r\n          Регистрация\r\n        </Link>\r\n      </Route>\r\n      <Route exact path=\"/\">\r\n        <div className=\"header__info\">\r\n          <p className=\"header__email\">{userData}</p>\r\n          <Link className=\"header__link header__link_exit\" onClick={onSignOut} to=\"/sign-in\">\r\n            Выйти\r\n          </Link>\r\n        </div>\r\n      </Route>\r\n    </header>\r\n  );\r\n}\r\nexport default Header;\r\n","import React, { useState }  from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nconst Register = ({ handleRegister }) => {\r\n  const [data, setData] = useState({\r\n    email: '',\r\n    password: '',\r\n  });\r\n  const handleChange = (e) => {\r\n    const {name, value} = e.target;\r\n\r\n    setData({\r\n      ...data,\r\n      [name]: value\r\n    })\r\n  }\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault()\r\n      const {email, password} = data;\r\n      handleRegister( email, password );\r\n  }\r\n  return(\r\n    <div className=\"register\">\r\n      <p className=\"register__welcome\">\r\n        Регистрация\r\n      </p>\r\n      <form onSubmit={handleSubmit} className=\"register__form\">\r\n        <input className=\"register__input\" id=\"email\" name=\"email\" type=\"email\" value={data.email} onChange={handleChange} placeholder='Email'/>\r\n        <input className=\"register__input\" id=\"password\" name=\"password\" type=\"password\" value={data.password} onChange={handleChange} placeholder='Пароль'/>\r\n          <button type=\"submit\" className=\"register__button\">Зарегистрироваться</button>\r\n      </form>\r\n        <Link to=\"/sign-in\" className=\"register__login-link\">Уже зарегистрированы? Войти</Link>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Register;","import React, { useState } from \"react\";\r\n\r\nconst Login = ({ handleLogin }) => {\r\n  const [data, setData] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n\r\n    setData({\r\n      ...data,\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const { email, password } = data;\r\n    handleLogin(email, password);\r\n  };\r\n  return (\r\n    <div className=\"register\">\r\n      <p className=\"register__welcome\">Вход</p>\r\n      <form onSubmit={handleSubmit} className=\"register__form\">\r\n        <input\r\n          className=\"register__input\"\r\n          placeholder=\"Email\"\r\n          id=\"email\"\r\n          name=\"email\"\r\n          type=\"email\"\r\n          value={data.email}\r\n          onChange={handleChange}\r\n        />\r\n\r\n        <input\r\n          className=\"register__input\"\r\n          placeholder=\"Пароль\"\r\n          id=\"password\"\r\n          name=\"password\"\r\n          type=\"password\"\r\n          value={data.password}\r\n          onChange={handleChange}\r\n        />\r\n        <div className=\"register__button-container\">\r\n          <button type=\"submit\" className=\"register__button\">\r\n            Войти\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\nexport default Login;\r\n","import React from \"react\";\r\n\r\n const CurrentUserContext = React.createContext()\r\n export default CurrentUserContext","import React from \"react\";\r\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Card(props) {\r\n  const user = React.useContext(CurrentUserContext);\r\n  const isOwn = props.card.owner._id === user._id;\r\n  const cardDeleteButtonClassName = `element__delete-button ${\r\n    isOwn ? \"\" : \"element__delete-button_visible\"\r\n  }`;\r\n  const isLiked = props.card.likes.some((i) => i._id === user._id);\r\n  const cardLikeButtonClassName = `element__button-like ${\r\n    isLiked ? \"element__button-like_active\" : \"\"\r\n  }`;\r\n  function handleClick() {\r\n    props.onCardClick(props.card);\r\n  }\r\n  function handleLikeClick() {\r\n    props.onCardLike(props.card);\r\n  }\r\n  function handleDeleteCard() {\r\n    props.onCardClick(props.card)\r\n    props.onDeleteButtonClick(true);\r\n  }\r\n  return (\r\n    <article className=\"element\">\r\n      <img\r\n        src={props.card.link}\r\n        alt={props.card.name}\r\n        className=\"element__photo\"\r\n        onClick={handleClick}\r\n      />\r\n      {isOwn && (\r\n        <button\r\n          type=\"button\"\r\n          aria-label=\"Удалить\"\r\n          className={cardDeleteButtonClassName}\r\n          onClick={handleDeleteCard}\r\n        ></button>\r\n      )}\r\n      <div className=\"element__subline\">\r\n        <h2 className=\"element__title\">{props.card.name}</h2>\r\n        <div className=\"element__block-like\">\r\n          <button\r\n            type=\"button\"\r\n            aria-label=\"Нравится\"\r\n            className={cardLikeButtonClassName}\r\n            onClick={handleLikeClick}\r\n          ></button>\r\n          <p className=\"element__quantity-likes\">{props.card.likes.length}</p>\r\n        </div>\r\n      </div>\r\n    </article>\r\n  );\r\n}\r\nexport default Card;\r\n","import React from \"react\";\r\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\r\nimport Card from \"./Card\";\r\nfunction Main(props) {\r\n  const user = React.useContext(CurrentUserContext);\r\n  return (\r\n    <main>\r\n      <section className=\"profile\">\r\n        <div className=\"profile__div-avatar\">\r\n          <img src={user.avatar} alt=\"аватар\" className=\"profile__avatar\" />\r\n          <button\r\n            type=\"button\"\r\n            aria-label=\"Изменить\"\r\n            className=\"profile__change-button\"\r\n            onClick={props.onEditAvatar}\r\n          ></button>\r\n        </div>\r\n        <div className=\"profile__info\">\r\n          <h1 className=\"profile__name\">{user.name}</h1>\r\n          <button\r\n            type=\"button\"\r\n            className=\"profile__edit-button\"\r\n            onClick={props.onEditProfile}\r\n          ></button>\r\n          <p className=\"profile__job\">{user.about}</p>\r\n        </div>\r\n        <button\r\n          type=\"button\"\r\n          className=\"profile__add-button\"\r\n          onClick={props.onAddPlace}\r\n        ></button>\r\n      </section>\r\n      <section className=\"elements\">\r\n        {props.cards.map((card) => (\r\n          <Card\r\n            key={card._id}\r\n            card={card}\r\n            onCardClick={props.onCardClick}\r\n            onCardLike={props.onCardLike}\r\n            onDeleteButtonClick={props.onDeleteButtonClick}\r\n          />\r\n        ))}\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import React from 'react';\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props  }) => {\r\n  return (\r\n    <Route>\r\n      {\r\n        () => props.loggedIn === true ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\r\n      }\r\n    </Route>\r\n)}\r\n\r\nexport default ProtectedRoute;","import React from \"react\";\r\n\r\nfunction PopupWithForm({\r\n  isOpen,\r\n  onClose,\r\n  onSubmit,\r\n  name,\r\n  title,\r\n  button,\r\n  children,\r\n}) {\r\n  return (\r\n    <div className={`popup popup_${name} ${isOpen ? \"popup_opened\" : \"\"}`}>\r\n      <form\r\n        name={name}\r\n        className={`popup__container popup__container_${name}`}\r\n        onSubmit={onSubmit}\r\n      >\r\n        <button\r\n          type=\"reset\"\r\n          className={`popup__close-button popup__close-button_${name}`}\r\n          onClick={onClose}\r\n        ></button>\r\n        <h2 className=\"popup__title\">{title}</h2>\r\n        {children}\r\n        <button type=\"submit\" className={`popup__button popup__button_${name}`}>\r\n          {button}\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\nexport default PopupWithForm;\r\n","import React from \"react\";\r\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditProfilePopup(props) {\r\n  const user = React.useContext(CurrentUserContext);\r\n  React.useEffect(() => {\r\n    setName(user.name);\r\n    setDescription(user.about);\r\n  }, [user, props.isOpen]);\r\n  const [name, setName] = React.useState(\"\");\r\n  const [description, setDescription] = React.useState(\"\");\r\n  function handleNameChange(e) {\r\n    setName(e.target.value);\r\n  }\r\n  function handleDescriptionChange(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n  function handleSubmit(e) {\r\n    // Запрещаем браузеру переходить по адресу формы\r\n    e.preventDefault();\r\n\r\n    // Передаём значения управляемых компонентов во внешний обработчик\r\n    props.onUpdateUser({\r\n      name: name,\r\n      about: description,\r\n    });\r\n  }\r\n  return (\r\n    <PopupWithForm\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n      name=\"profile\"\r\n      title=\"Редактировать профиль\"\r\n      button=\"Сохранить\"\r\n    >\r\n      <input\r\n        minLength=\"2\"\r\n        maxLength=\"40\"\r\n        type=\"text\"\r\n        placeholder=\"Имя\"\r\n        name=\"name\"\r\n        id=\"name-input\"\r\n        value={name || \"\"}\r\n        onChange={handleNameChange}\r\n        className=\"popup__input popup__input_type_name\"\r\n        required\r\n      />\r\n      <span id=\"name-input-error\" className=\"popup__error\"></span>\r\n      <input\r\n        minLength=\"2\"\r\n        maxLength=\"200\"\r\n        type=\"text\"\r\n        name=\"job\"\r\n        id=\"job-input\"\r\n        placeholder=\"О себе\"\r\n        value={description || \"\"}\r\n        onChange={handleDescriptionChange}\r\n        className=\"popup__input popup__input_type_job\"\r\n        required\r\n      />\r\n      <span id=\"job-input-error\" className=\"popup__error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\nexport default EditProfilePopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const inputRef = React.useRef(\"\");\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    props.onUpdateAvatar({\r\n      avatar: inputRef.current.value,\r\n    });\r\n  }\r\n  return (\r\n    <PopupWithForm\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n      name=\"change-avatar\"\r\n      title=\"Обновить аватар\"\r\n      button=\"Сохранить\"\r\n    >\r\n      <input\r\n        type=\"url\"\r\n        name=\"link\"\r\n        id=\"avatar-link-input\"\r\n        ref={inputRef}\r\n        placeholder=\"Ссылка на аватар\"\r\n        className=\"popup__input popup__input_change-avatar\"\r\n        required\r\n      />\r\n      <span id=\"avatar-link-input-error\" className=\"popup__error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\nexport default EditAvatarPopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nfunction AddPlacePopup(props) {\r\n  const [name, setName] = React.useState(\"\");\r\n  const [link, setLink] = React.useState(\"\");\r\n  function handleNameChange(e) {\r\n    setName(e.target.value);\r\n  }\r\n  function handleLinkChange(e) {\r\n    setLink(e.target.value);\r\n  }\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    props.onAddPlace({\r\n      name: name,\r\n      link: link,\r\n    });\r\n    setName(\"\");\r\n    setLink(\"\");\r\n  }\r\n  return (\r\n    <PopupWithForm\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n      name=\"add\"\r\n      title=\"Новое место\"\r\n      button=\"Создать\"\r\n    >\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Название\"\r\n        name=\"place\"\r\n        id=\"place-input\"\r\n        value={name}\r\n        onChange={handleNameChange}\r\n        className=\"popup__input popup__input_place_name\"\r\n        required\r\n      />\r\n      <span id=\"place-input-error\" className=\"popup__error\"></span>\r\n      <input\r\n        type=\"url\"\r\n        name=\"link\"\r\n        id=\"link-input\"\r\n        value={link}\r\n        onChange={handleLinkChange}\r\n        placeholder=\"Ссылка на картинку\"\r\n        className=\"popup__input popup__input_place_link\"\r\n        required\r\n      />\r\n      <span id=\"link-input-error\" className=\"popup__error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\nexport default AddPlacePopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction ConfirmPopup(props) {\r\n    console.log(props.card)\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onCardDelete(props.card)\r\n  }\r\n  return (\r\n    <PopupWithForm\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n      name=\"delete\"\r\n      title=\"Вы уверены?\"\r\n      button=\"Да\"\r\n    >\r\n    </PopupWithForm>\r\n  );\r\n}\r\nexport default ConfirmPopup;\r\n","import React from \"react\";\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p>&copy;2021 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\nexport default Footer;\r\n","import React from \"react\";\r\n\r\nfunction ImagePopup({ card, onClose }) {\r\n  return (\r\n    <div className={`popup popup_img ${card && \"popup_opened\"}`}>\r\n      <article className=\"popup__img-article\">\r\n        <button\r\n          type=\"reset\"\r\n          className=\"popup__close-button popup__close-button_img\"\r\n          onClick={onClose}\r\n        ></button>\r\n        <img className=\"popup__image\" src={card?.link} alt={card?.name} />\r\n        <p className=\"popup__img-caption\">{card?.name} </p>\r\n      </article>\r\n    </div>\r\n  );\r\n}\r\nexport default ImagePopup;\r\n","export default __webpack_public_path__ + \"static/media/good.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/bad.df8eddf6.svg\";","import React from \"react\";\r\nimport good from \"../images/good.svg\";\r\nimport bad from \"../images/bad.svg\";\r\nfunction InfoToolTip({ isOpen, onClose, regOk }) {\r\n  React.useEffect(() => {\r\n    function handleEscClose(evt) {\r\n      if (evt.key === \"Escape\") {\r\n        onClose();\r\n      }\r\n    }\r\n    if (isOpen) {\r\n      document.addEventListener(\"keydown\", handleEscClose);\r\n    }\r\n    return () => document.removeEventListener(\"keydown\", handleEscClose);\r\n  });\r\n  React.useEffect(() => {\r\n    function handleOverlayClick(evt) {\r\n      if (evt.target.classList.contains(\"popup\")) {\r\n        onClose();\r\n      }\r\n    }\r\n    if (isOpen) {\r\n      document.addEventListener(\"click\", handleOverlayClick);\r\n    }\r\n    return () => document.removeEventListener(\"click\", handleOverlayClick);\r\n  });\r\n  return (\r\n    <div className={`popup popup_info ${isOpen ? \"popup_opened\" : \"\"}`}>\r\n      <div className={`popup__container popup__container_info`}>\r\n        <button\r\n          type=\"reset\"\r\n          className={`popup__close-button popup__close-button_info`}\r\n          onClick={onClose}\r\n        ></button>\r\n        <img\r\n          className=\"popup__img\"\r\n          alt={`${\r\n            regOk\r\n              ? \"Вы успешно зарегистрировались!\"\r\n              : \"Что-то пошло не так! Попробуйте ещё раз.\"\r\n          }`}\r\n          src={`${regOk ? good : bad}`}\r\n        />\r\n        <p className=\"popup__answer\">{`${\r\n          regOk\r\n            ? \"Вы успешно зарегистрировались!\"\r\n            : \"Что-то пошло не так! Попробуйте ещё раз.\"\r\n        }`}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default InfoToolTip;\r\n","class Api {\r\n    constructor(config){\r\n        this._url = config.url;\r\n        this._headers = config.headers\r\n    }\r\n    getAllCards() {\r\n        return fetch(`${this._url}/cards`,\r\n        {method: 'GET',\r\n            headers: this._headers})\r\n            .then(this._checkResponse)\r\n        }\r\n        _checkResponse(res) {\r\n            if (res.ok) {\r\n                return res.json();}\r\n                return Promise.reject(`Ошибка: ${res.status}`);\r\n            \r\n        }\r\n    getUserInfo() {\r\n        return fetch(`${this._url}/users/me`,\r\n        {method: 'GET',\r\n            headers: this._headers})\r\n            .then(this._checkResponse)\r\n        }\r\n    getAllNeededData() {\r\n        return Promise.all([this.getAllCards(), this.getUserInfo()])\r\n    }    \r\n    changeUserInfo(name, about) {\r\n        return fetch(`${this._url}/users/me`, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n              name: name,\r\n              about: about\r\n            })\r\n          }).then(this._checkResponse); \r\n    }\r\n    addNewCard(name, link) {\r\n        return fetch(`${this._url}/cards`,\r\n        {method: 'POST',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n              name: name,\r\n              link: link\r\n            })\r\n        }).then(this._checkResponse)\r\n    }\r\n    changeUserAvatar(avatar){\r\n        return fetch(`${this._url}/users/me/avatar`, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n              avatar: avatar\r\n            })\r\n          }).then(this._checkResponse);\r\n    }\r\n    changeLikeCardStatus(id, isLiked) {\r\n        if(isLiked) {\r\n            return this.likeCard(id)\r\n        }\r\n         return this.deleteLike(id)\r\n    }\r\n    likeCard(cardId) {\r\n        return fetch(`${this._url}/cards/likes/${cardId}`,{\r\n            method: 'PUT',\r\n            headers: this._headers\r\n        }\r\n        )\r\n        .then(this._checkResponse)\r\n    }\r\n    deleteLike(cardId) {\r\n        return fetch(`${this._url}/cards/likes/${cardId}`,{\r\n            method: 'DELETE',\r\n            headers: this._headers\r\n        }\r\n        )\r\n        .then(this._checkResponse)\r\n    }\r\n    deleteCard(cardId) {\r\n        return fetch(`${this._url}/cards/${cardId}`, {\r\n            method: 'DELETE',\r\n            headers: this._headers\r\n        })\r\n        .then(this._checkResponse)\r\n    }\r\n    }\r\n    const api = new Api({\r\n        url: 'https://mesto.nomoreparties.co/v1/cohort-23',\r\n        headers: {\r\n          authorization: '214a54ce-1055-4190-abb2-8e0a2b6796dd',\r\n          'Content-Type': 'application/json'\r\n        }\r\n      })\r\nexport default api\r\n","export const BASE_URL = 'https://auth.nomoreparties.co';\r\n\r\nconst handleResponse = response => response.ok ? response.json() : Promise.reject(`Ошибка ${response.status}`);\r\n\r\nexport const register = (email, password) => {\r\n    return fetch(`${BASE_URL}/signup`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        password: password,\r\n      email: email })\r\n    })\r\n    .then(handleResponse)\r\n  };\r\n\r\n  export const authorize = (email, password) => {\r\n    return fetch(`${BASE_URL}/signin`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        password: password,\r\n      email: email })\r\n    })\r\n    .then(handleResponse)\r\n  };\r\n\r\n  export const getContent = (token) => {\r\n    return fetch(`${BASE_URL}/users/me`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Bearer ${token}`,\r\n      }\r\n    })\r\n    .then(handleResponse)\r\n  }","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport Register from \"./Register\";\r\nimport Login from \"./Login\";\r\nimport Main from \"./Main\";\r\nimport { Route, Switch, useHistory } from \"react-router-dom\";\r\nimport ProtectedRoute from \"./ProtectedRoute\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\nimport AddPlacePopup from \"./AddPlacePopup\";\r\nimport ConfirmPopup from \"./ConfirmPopup\";\r\nimport Footer from \"./Footer\";\r\nimport ImagePopup from \"./ImagePopup\";\r\nimport InfoToolTip from \"./InfoTooltip\";\r\nimport api from \"../utils/api\";\r\nimport * as auth from \"../utils/auth\";\r\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\r\nfunction App() {\r\n  const [loggedIn, setLoggedIn] = React.useState(false);\r\n  const [userData, setUserData] = React.useState(\"\");\r\n  const history = useHistory();\r\n  React.useEffect(() => {\r\n    function handleEscClose(evt) {\r\n      if (evt.key === \"Escape\") {\r\n        closeAllPopups();\r\n      }\r\n    }\r\n    if (\r\n      isInfoTooLTipOpen ||\r\n      isEditAvatarPopupOpen ||\r\n      isEditProfilePopupOpen ||\r\n      isAddPlacePopupOpen ||\r\n      selectedCard\r\n    ) {\r\n      document.addEventListener(\"keydown\", handleEscClose);\r\n    }\r\n    return () => document.removeEventListener(\"keydown\", handleEscClose);\r\n  });\r\n  React.useEffect(() => {\r\n    function handleOverlayClick(evt) {\r\n      if (evt.target.classList.contains(\"popup\")) {\r\n        closeAllPopups();\r\n      }\r\n    }\r\n    if (\r\n      isInfoTooLTipOpen ||\r\n      isEditAvatarPopupOpen ||\r\n      isEditProfilePopupOpen ||\r\n      isAddPlacePopupOpen ||\r\n      selectedCard\r\n    ) {\r\n      document.addEventListener(\"click\", handleOverlayClick);\r\n    }\r\n    return () => document.removeEventListener(\"click\", handleOverlayClick);\r\n  });\r\n  React.useEffect(() => {\r\n    tokenCheck();\r\n  }, []);\r\n\r\n  const tokenCheck = () => {\r\n    const jwt = localStorage.getItem(\"jwt\");\r\n\r\n    if (jwt) {\r\n      auth\r\n        .getContent(jwt)\r\n        .then((res) => {\r\n          if (res) {\r\n            console.log(res);\r\n            setUserData(res.data.email);\r\n            setLoggedIn(true);\r\n            history.push(\"/\");\r\n          }\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }\r\n  };\r\n  const handleRegister = (email, password) => {\r\n    auth\r\n      .register(email, password)\r\n      .then((data) => {\r\n        console.log(data);\r\n        localStorage.setItem(\"jwt\", data.jwt);\r\n        setLoggedIn(true);\r\n        setIsInfoTooLTipOpen(true);\r\n        setIsRegOk(true);\r\n        history.push(\"/\");\r\n        console.log(data);\r\n      })\r\n      .catch((err) => {\r\n        setIsInfoTooLTipOpen(true);\r\n        setIsRegOk(false);\r\n        console.log(err);\r\n      });\r\n  };\r\n  const handleLogin = (email, password) => {\r\n    auth\r\n      .authorize(email, password)\r\n      .then((res) => {\r\n        if (res.token) {\r\n          console.log(res);\r\n          setUserData(email);\r\n          localStorage.setItem(\"jwt\", res.token);\r\n          setLoggedIn(true);\r\n          history.push(\"/\");\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n  const onSignOut = () => {\r\n    localStorage.removeItem(\"jwt\");\r\n    setLoggedIn(false);\r\n    history.push(\"/sign-in\");\r\n  };\r\n  const [cards, setCards] = React.useState([]);\r\n  React.useEffect(() => {\r\n    api\r\n      .getAllCards()\r\n      .then((data) => {\r\n        setCards(data);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, []);\r\n  console.log(cards)\r\n  function handleCardLike(card) {\r\n    // Снова проверяем, есть ли уже лайк на этой карточке\r\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n\r\n    // Отправляем запрос в API и получаем обновлённые данные карточки\r\n    api\r\n      .changeLikeCardStatus(card._id, !isLiked)\r\n      .then((newCard) => {\r\n        setCards((state) =>\r\n          state.map((c) => (c._id === card._id ? newCard : c))\r\n        );\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n  React.useEffect(() => {\r\n    api\r\n      .getUserInfo()\r\n      .then((data) => {\r\n        setCurrentUser(data);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, []);\r\n  const [selectedCard, setSelectedCard] = React.useState(null);\r\n  const [isInfoTooLTipOpen, setIsInfoTooLTipOpen] = React.useState(false);\r\n  const [isRegOk, setIsRegOk] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] =\r\n    React.useState(false);\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] =\r\n    React.useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n  const [isConfirmPopupOpen, setIsConfirmPopupOpen] = React.useState(false);\r\n  function handleDeleteButoonClick() {\r\n    setIsConfirmPopupOpen(true);\r\n  }\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n  function closeAllPopups() {\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsEditAvatarPopupOpen(false);\r\n    setSelectedCard(null);\r\n    setIsInfoTooLTipOpen(false);\r\n  }\r\n  function handleCardDelete(card) {\r\n    api\r\n      .deleteCard(card._id)\r\n      .then(() => {\r\n        setCards((state) => {\r\n          state.filter((c) => c._id !== card._id);\r\n        }, closeAllPopups());\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n  function handleUpdateAvatar({ avatar }) {\r\n    api\r\n      .changeUserAvatar(avatar)\r\n      .then((data) => {\r\n        setCurrentUser(data);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n  function handleUpdateUser({ name, about }) {\r\n    api\r\n      .changeUserInfo(name, about)\r\n      .then((data) => {\r\n        setCurrentUser(data);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n  function handleAddPlaceSumit({ name, link }) {\r\n    api\r\n      .addNewCard(name, link)\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards]);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"background-color\">\r\n        <div className=\"App\">\r\n          <div className=\"page\">\r\n            <Header userData={userData} onSignOut={onSignOut} />\r\n            <Switch>\r\n              <Route path=\"/sign-up\">\r\n                <Register handleRegister={handleRegister} />\r\n              </Route>\r\n              <Route path=\"/sign-in\">\r\n                <Login handleLogin={handleLogin} tokenCheck={tokenCheck} />\r\n              </Route>\r\n              <ProtectedRoute\r\n                component={Main}\r\n                loggedIn={loggedIn}\r\n                exact\r\n                path=\"/\"\r\n                onEditProfile={handleEditProfileClick}\r\n                onAddPlace={handleAddPlaceClick}\r\n                onEditAvatar={handleEditAvatarClick}\r\n                onCardClick={setSelectedCard}\r\n                onDeleteButtonClick={handleDeleteButoonClick}\r\n                cards={cards}\r\n                onCardLike={handleCardLike}\r\n                onCardDelete={handleCardDelete}\r\n              ></ProtectedRoute>\r\n            </Switch>\r\n            <ImagePopup card={selectedCard} onClose={closeAllPopups} />\r\n            <EditProfilePopup\r\n              isOpen={isEditProfilePopupOpen}\r\n              onClose={closeAllPopups}\r\n              onUpdateUser={handleUpdateUser}\r\n            />\r\n            <AddPlacePopup\r\n              isOpen={isAddPlacePopupOpen}\r\n              onClose={closeAllPopups}\r\n              onAddPlace={handleAddPlaceSumit}\r\n            />\r\n            <ConfirmPopup\r\n              isOpen={isConfirmPopupOpen}\r\n              onClose={closeAllPopups}\r\n              card={selectedCard}\r\n              onCardDelete={handleCardDelete}\r\n            ></ConfirmPopup>\r\n            <PopupWithForm\r\n              isOpen={false}\r\n              onClose={closeAllPopups}\r\n              name=\"delete\"\r\n              title=\"Вы уверены?\"\r\n              button=\"Да\"\r\n            ></PopupWithForm>\r\n            <EditAvatarPopup\r\n              isOpen={isEditAvatarPopupOpen}\r\n              onClose={closeAllPopups}\r\n              onUpdateAvatar={handleUpdateAvatar}\r\n            />\r\n            <InfoToolTip\r\n              isOpen={isInfoTooLTipOpen}\r\n              onClose={closeAllPopups}\r\n              regOk={isRegOk}\r\n            />\r\n            <Footer />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\n\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}